{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/vinitha/Desktop/RegAI/frontend/src/app/components/DocumentInfo.tsx"],"sourcesContent":["import { InfoIcon } from 'lucide-react';\nimport { DocumentInfo } from '@/app/lib/types';\n\nconst FallbackText = () => (\n    <span className=\"italic text-gray-400\">Analysis did not provide this information.</span>\n);\n\nexport const RegulatoryInfo = ({ info }: { info: DocumentInfo }) => (\n  <div className=\"bg-white p-6 rounded-lg shadow-md border border-gray-200\">\n    <h2 className=\"text-2xl font-bold text-gray-800 mb-4 flex items-center\">\n      <InfoIcon className=\"mr-3 text-red-400\" /> Regulatory Document Info\n    </h2>\n    <div className=\"space-y-4 text-gray-700\">\n      <div>\n        <h3 className=\"font-semibold text-lg text-gray-800\">Title</h3>\n        {/* Use optional chaining and a fallback component */}\n        <p>{info?.title || <FallbackText />}</p>\n      </div>\n      <div>\n        <h3 className=\"font-semibold text-lg text-gray-800\">Author</h3>\n        <p>{info?.author || <FallbackText />}</p>\n      </div>\n      <div>\n        <h3 className=\"font-semibold text-lg text-gray-800\">Publication Date</h3>\n        <p>{info?.publication_date || <FallbackText />}</p>\n      </div>\n    </div>\n  </div>\n);"],"names":[],"mappings":";;;;AAAA;;;AAGA,MAAM,eAAe,kBACjB,6LAAC;QAAK,WAAU;kBAAuB;;;;;;KADrC;AAIC,MAAM,iBAAiB,CAAC,EAAE,IAAI,EAA0B,iBAC7D,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;;kCACZ,6LAAC,yMAAA,CAAA,WAAQ;wBAAC,WAAU;;;;;;oBAAsB;;;;;;;0BAE5C,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAAsC;;;;;;0CAEpD,6LAAC;0CAAG,MAAM,uBAAS,6LAAC;;;;;;;;;;;;;;;;kCAEtB,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAAsC;;;;;;0CACpD,6LAAC;0CAAG,MAAM,wBAAU,6LAAC;;;;;;;;;;;;;;;;kCAEvB,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAAsC;;;;;;0CACpD,6LAAC;0CAAG,MAAM,kCAAoB,6LAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAjB1B","debugId":null}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///Users/vinitha/Desktop/RegAI/frontend/src/app/components/RegulatorySummary.tsx"],"sourcesContent":["import { FileText } from 'lucide-react';\nimport { RegulatorySummary as SummaryType } from '@/app/lib/types';\n\nconst FallbackText = () => (\n    <span className=\"italic text-gray-400\">Analysis did not provide this information.</span>\n);\n\nexport const RegulatorySummary = ({ summary }: { summary: SummaryType }) => (\n  <div className=\"bg-white p-6 rounded-lg shadow-md border border-gray-200\">\n    <h2 className=\"text-2xl font-bold text-gray-800 mb-4 flex items-center\">\n      <FileText className=\"mr-3 text-red-600\" /> Regulatory Summary\n    </h2>\n    <div className=\"space-y-4 text-gray-700\">\n      <div>\n        <h3 className=\"font-semibold text-lg text-gray-800\">Purpose</h3>\n        {/* Use optional chaining and a fallback component */}\n        <p>{summary?.purpose || <FallbackText />}</p>\n      </div>\n      <div>\n        <h3 className=\"font-semibold text-lg text-gray-800\">Scope</h3>\n        <p>{summary?.scope || <FallbackText />}</p>\n      </div>\n      <div>\n        <h3 className=\"font-semibold text-lg text-gray-800\">Why It Matters</h3>\n        <p>{summary?.relevance || <FallbackText />}</p>\n      </div>\n    </div>\n  </div>\n);"],"names":[],"mappings":";;;;AAAA;;;AAGA,MAAM,eAAe,kBACjB,6LAAC;QAAK,WAAU;kBAAuB;;;;;;KADrC;AAIC,MAAM,oBAAoB,CAAC,EAAE,OAAO,EAA4B,iBACrE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;;kCACZ,6LAAC,iNAAA,CAAA,WAAQ;wBAAC,WAAU;;;;;;oBAAsB;;;;;;;0BAE5C,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAAsC;;;;;;0CAEpD,6LAAC;0CAAG,SAAS,yBAAW,6LAAC;;;;;;;;;;;;;;;;kCAE3B,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAAsC;;;;;;0CACpD,6LAAC;0CAAG,SAAS,uBAAS,6LAAC;;;;;;;;;;;;;;;;kCAEzB,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAAsC;;;;;;0CACpD,6LAAC;0CAAG,SAAS,2BAAa,6LAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAjBtB","debugId":null}},
    {"offset": {"line": 297, "column": 0}, "map": {"version":3,"sources":["file:///Users/vinitha/Desktop/RegAI/frontend/src/app/components/ImpactAssessment.tsx"],"sourcesContent":["import { AlertTriangle, Info } from 'lucide-react';\nimport { ImpactAssessment as AssessmentType } from '@/app/lib/types';\n\nexport const ImpactAssessment = ({ assessment }: { assessment: AssessmentType }) => {\n  // Defensive check: Ensure assessment and affectedAreas exist and have content\n  const hasContent = assessment?.affectedAreas && assessment.affectedAreas.length > 0;\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg shadow-md border border-gray-200\">\n      <h2 className=\"text-2xl font-bold text-gray-800 mb-4 flex items-center\">\n        <AlertTriangle className=\"mr-3 text-yellow-500\" /> Preliminary Impact Assessment\n      </h2>\n      <p className=\"text-gray-600 italic mb-6\">\n        {assessment?.introduction || \"An analysis of potential operational impacts.\"}\n      </p>\n      <div className=\"space-y-4\">\n        {hasContent ? (\n          assessment.affectedAreas.map((item, index) => (\n            <div key={`${item.area}-${index}`} className=\"border-l-4 border-yellow-500 pl-4\">\n              <h3 className=\"font-semibold text-lg text-gray-800\">{item.area}</h3>\n              <p className=\"text-gray-700\">\n                {/* Provide a fallback for the impact description itself */}\n                {item.impact || <span className=\"italic text-gray-400\">No description provided.</span>}\n              </p>\n            </div>\n          ))\n        ) : (\n          <div className=\"flex items-center text-gray-500\">\n            <Info className=\"w-5 h-5 mr-2 shrink-0\"/>\n            <p>No specific impact areas were identified in the analysis.</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;AAAA;AAAA;;;AAGO,MAAM,mBAAmB,CAAC,EAAE,UAAU,EAAkC;IAC7E,8EAA8E;IAC9E,MAAM,aAAa,YAAY,iBAAiB,WAAW,aAAa,CAAC,MAAM,GAAG;IAElF,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;;kCACZ,6LAAC,2NAAA,CAAA,gBAAa;wBAAC,WAAU;;;;;;oBAAyB;;;;;;;0BAEpD,6LAAC;gBAAE,WAAU;0BACV,YAAY,gBAAgB;;;;;;0BAE/B,6LAAC;gBAAI,WAAU;0BACZ,aACC,WAAW,aAAa,CAAC,GAAG,CAAC,CAAC,MAAM,sBAClC,6LAAC;wBAAkC,WAAU;;0CAC3C,6LAAC;gCAAG,WAAU;0CAAuC,KAAK,IAAI;;;;;;0CAC9D,6LAAC;gCAAE,WAAU;0CAEV,KAAK,MAAM,kBAAI,6LAAC;oCAAK,WAAU;8CAAuB;;;;;;;;;;;;uBAJjD,GAAG,KAAK,IAAI,CAAC,CAAC,EAAE,OAAO;;;;8CASnC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,qMAAA,CAAA,OAAI;4BAAC,WAAU;;;;;;sCAChB,6LAAC;sCAAE;;;;;;;;;;;;;;;;;;;;;;;AAMf;KAhCa","debugId":null}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":["file:///Users/vinitha/Desktop/RegAI/frontend/src/app/components/Timeline.tsx"],"sourcesContent":["import { CalendarCheck, AlertTriangle, ShieldCheck, Clock } from 'lucide-react';\nimport { KeyDate } from '@/app/lib/types';\nimport { differenceInMonths, parse, isValid } from 'date-fns';\n\ninterface StyleProps {\n  borderColor: string;\n  iconBgColor: string;\n  textColor: string;\n  icon: React.ElementType;\n}\n\n/**\n * Parses a date string safely for styling purposes, handling ranges and fuzzy dates.\n * It primarily looks for the first parseable part of the string.\n */\nfunction parseDateForStyle(dateStr: string): Date | null {\n  if (!dateStr || typeof dateStr !== 'string') return null;\n  \n  const cleanDateStr = dateStr.split(' - ')[0].trim(); // Isolate the start date for ranges\n  \n  // Try parsing common formats. date-fns' `parse` is more forgiving than the native `new Date()`\n  try {\n    const parsed = parse(cleanDateStr, 'd MMMM yyyy', new Date());\n    if (isValid(parsed)) return parsed;\n    \n    const parsedMonth = parse(cleanDateStr, 'MMMM yyyy', new Date());\n    if (isValid(parsedMonth)) return parsedMonth;\n    \n    const parsedYear = parse(cleanDateStr, 'yyyy', new Date());\n    if (isValid(parsedYear)) return parsedYear;\n  } catch (e) { /* Fallback to general parsing */ }\n\n  const generalParsed = new Date(cleanDateStr);\n  return isValid(generalParsed) ? generalParsed : null;\n}\n\n/**\n * Returns Tailwind CSS classes and an icon based on the date's status.\n */\nfunction getTimelineItemStyle(dateStr: string): StyleProps {\n  const date = parseDateForStyle(dateStr);\n  const now = new Date();\n  now.setHours(0, 0, 0, 0); // Normalize 'now' to the start of the day\n\n  const defaultStyle: StyleProps = {\n    borderColor: 'border-blue-500',\n    iconBgColor: 'bg-blue-500',\n    textColor: 'text-blue-700',\n    icon: Clock,\n  };\n  \n  if (!date) return defaultStyle; // Return default for relative dates like \"24 Months\"\n  \n  const monthsDiff = differenceInMonths(date, now);\n\n  if (date < now) {\n    // Past\n    return { borderColor: 'border-gray-400', iconBgColor: 'bg-gray-400', textColor: 'text-gray-600', icon: ShieldCheck };\n  }\n  if (monthsDiff <= 6) {\n    // Due within 6 months\n    return { borderColor: 'border-red-500', iconBgColor: 'bg-red-500', textColor: 'text-red-700', icon: AlertTriangle };\n  }\n  if (monthsDiff <= 12) {\n    // Due within 1 year\n    return { borderColor: 'border-orange-500', iconBgColor: 'bg-orange-500', textColor: 'text-orange-700', icon: AlertTriangle };\n  }\n  // Future (more than a year away)\n  return { borderColor: 'border-green-500', iconBgColor: 'bg-green-500', textColor: 'text-green-700', icon: Clock };\n}\n\nexport const Timeline = ({ dates }: { dates: KeyDate[] }) => {\n  // If dates are empty or not an array, show the fallback UI\n  if (!Array.isArray(dates) || dates.length === 0) {\n    return <div className=\"p-6 bg-white rounded-lg shadow-md border\"><p className=\"text-gray-500\">No key dates were extracted for this document.</p></div>;\n  }\n\n  // NO MORE SORTING ON THE FRONTEND! We trust the backend's order.\n  const timelineDates = dates.filter(item => item && item.date && item.event);\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg shadow-md border border-gray-200\">\n      <h2 className=\"text-2xl font-bold text-gray-800 mb-6 flex items-center\">\n        <CalendarCheck className=\"mr-3 text-gray-700\" /> Critical Compliance Dates\n      </h2>\n      <div className=\"relative border-l-2 border-gray-300 ml-4\">\n        {timelineDates.map((item, index) => {\n          const { borderColor, iconBgColor, textColor, icon: Icon } = getTimelineItemStyle(item.date);\n          \n          return (\n            <div key={`${item.date}-${index}`} className=\"mb-8 ml-8\">\n              <span className={`absolute -left-[11px] flex items-center justify-center w-6 h-6 ${iconBgColor} rounded-full ring-4 ring-white`}>\n                <Icon className=\"w-3.5 h-3.5 text-white\" />\n              </span>\n              <div className={`bg-gray-50 p-4 rounded-lg border-l-4 ${borderColor}`}>\n                <time className={`text-sm font-bold ${textColor} capitalize`}>\n                  {item.date}\n                </time>\n                <h3 className=\"text-lg font-semibold text-gray-900 mt-1\">{item.regulation}</h3>\n                <p className=\"text-base font-normal text-gray-600\">{item.event}</p>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 623, "column": 0}, "map": {"version":3,"sources":["file:///Users/vinitha/Desktop/RegAI/frontend/src/app/components/DocumentSelector.tsx"],"sourcesContent":["'use client';\nimport * as Select from '@radix-ui/react-select';\nimport { Check, ChevronDown } from 'lucide-react';\n\ninterface DocumentSelectorProps {\n  documents: string[];\n  selectedDocument: string;\n  onSelectDocument: (doc: string) => void;\n  isLoading: boolean;\n}\n\nexport const DocumentSelector = ({ documents, selectedDocument, onSelectDocument, isLoading }: DocumentSelectorProps) => (\n  // Use max-w-full to ensure it behaves well on small screens, and a specific max-width for larger screens.\n  <div className=\"w-full max-w-md\">\n    <Select.Root value={selectedDocument} onValueChange={onSelectDocument} disabled={isLoading}>\n      <Select.Trigger \n        className=\"inline-flex items-center justify-between rounded-md px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 shadow-sm hover:bg-gray-50 disabled:bg-gray-200 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 w-full\"\n        aria-label=\"Select Document\"\n      >\n        <span className=\"w-256 truncate\"> {/* Add truncate to prevent ugly text wrapping */}\n            <Select.Value placeholder=\"Select a document to analyze...\" />\n        </span>\n        <Select.Icon className=\"ml-2\">\n          <ChevronDown className=\"h-4 w-4\" />\n        </Select.Icon>\n      </Select.Trigger>\n      <Select.Portal>\n        <Select.Content \n          position=\"popper\" \n          sideOffset={5} \n          className=\"w-[--radix-select-trigger-width] bg-white rounded-md shadow-lg border z-50\"\n        >\n          <Select.Viewport className=\"p-1\">\n            {documents.map(doc => (\n              <Select.Item \n                key={doc} \n                value={doc} \n                className=\"flex items-center px-3 py-2 text-sm text-gray-700 rounded-md relative hover:bg-red-50 cursor-pointer select-none outline-none data-[highlighted]:bg-red-100 data-[state=checked]:font-semibold\"\n              >\n                <Select.ItemText>{doc}</Select.ItemText>\n                <Select.ItemIndicator className=\"absolute right-2 inline-flex items-center\">\n                  <Check className=\"h-4 w-4\" />\n                </Select.ItemIndicator>\n              </Select.Item>\n            ))}\n          </Select.Viewport>\n        </Select.Content>\n      </Select.Portal>\n    </Select.Root>\n  </div>\n);"],"names":[],"mappings":";;;;AACA;AACA;AAAA;AAFA;;;;AAWO,MAAM,mBAAmB,CAAC,EAAE,SAAS,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,SAAS,EAAyB,GAClH,0GAA0G;kBAC1G,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,qKAAA,CAAA,OAAW;YAAC,OAAO;YAAkB,eAAe;YAAkB,UAAU;;8BAC/E,6LAAC,qKAAA,CAAA,UAAc;oBACb,WAAU;oBACV,cAAW;;sCAEX,6LAAC;4BAAK,WAAU;;gCAAiB;8CAC7B,6LAAC,qKAAA,CAAA,QAAY;oCAAC,aAAY;;;;;;;;;;;;sCAE9B,6LAAC,qKAAA,CAAA,OAAW;4BAAC,WAAU;sCACrB,cAAA,6LAAC,uNAAA,CAAA,cAAW;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAG3B,6LAAC,qKAAA,CAAA,SAAa;8BACZ,cAAA,6LAAC,qKAAA,CAAA,UAAc;wBACb,UAAS;wBACT,YAAY;wBACZ,WAAU;kCAEV,cAAA,6LAAC,qKAAA,CAAA,WAAe;4BAAC,WAAU;sCACxB,UAAU,GAAG,CAAC,CAAA,oBACb,6LAAC,qKAAA,CAAA,OAAW;oCAEV,OAAO;oCACP,WAAU;;sDAEV,6LAAC,qKAAA,CAAA,WAAe;sDAAE;;;;;;sDAClB,6LAAC,qKAAA,CAAA,gBAAoB;4CAAC,WAAU;sDAC9B,cAAA,6LAAC,uMAAA,CAAA,QAAK;gDAAC,WAAU;;;;;;;;;;;;mCANd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAxBR","debugId":null}},
    {"offset": {"line": 759, "column": 0}, "map": {"version":3,"sources":["file:///Users/vinitha/Desktop/RegAI/frontend/src/app/components/Heatmap.tsx"],"sourcesContent":["import { HeatmapData } from '@/app/lib/types';\n\nconst levelStyles = {\n    High: 'bg-red-400',\n    Medium: 'bg-orange-400',\n    Low: 'bg-yellow-300',\n    None: 'bg-gray-100',\n};\n\n// Reusable Header Cell sub-component for consistent styling\nconst HeaderCell = ({ children }) => (\n    <th className=\"p-2 border border-gray-300 bg-gray-100 text-sm font-semibold text-gray-700 text-left w-24 whitespace-nowrap\">\n        {children}\n    </th>\n);\n\n// --- NEW LEGEND COMPONENT ---\nconst HeatmapLegend = () => (\n    <div className=\"flex items-center gap-x-6 gap-y-2 mt-4 flex-wrap\">\n        <h4 className=\"text-sm font-semibold text-gray-700 mr-2\">Legend:</h4>\n        <div className=\"flex items-center gap-2\">\n            <div className={`w-4 h-4 rounded-sm ${levelStyles.High}`}></div>\n            <span className=\"text-sm text-gray-600\">High Impact</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n            <div className={`w-4 h-4 rounded-sm ${levelStyles.Medium}`}></div>\n            <span className=\"text-sm text-gray-600\">Medium Impact</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n            <div className={`w-4 h-4 rounded-sm ${levelStyles.Low}`}></div>\n            <span className=\"text-sm text-gray-600\">Low Impact</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n            <div className={`w-4 h-4 rounded-sm ${levelStyles.None} border border-gray-300`}></div>\n            <span className=\"text-sm text-gray-600\">No/Minimal Impact</span>\n        </div>\n    </div>\n);\n\n\nexport const Heatmap = ({ data }: { data: HeatmapData }) => {\n    if (!data || Object.keys(data).length === 0) {\n        return null; // Don't render component if there's no data\n    }\n\n    const divisions = Object.keys(data);\n\n    return (\n        <div className=\"bg-white p-6 rounded-lg shadow-md border border-gray-200\">\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">Quantitative Impact Heatmap</h2>\n            <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full border-collapse\">\n                    <thead>\n                        <tr>\n                            {divisions.map(dept => <HeaderCell key={dept}>{dept}</HeaderCell>)}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {divisions.map(dept => (\n                                <td \n                                    key={dept} \n                                    className={`p-0 border border-gray-300 h-12 text-center ${levelStyles[data[dept].level]}`}\n                                    title={`${dept}: ${data[dept].level} Impact (Score: ${data[dept].score})`}\n                                >\n                                    {/* Display the score inside the cell for quantitative detail */}\n                                    <span className=\"text-white font-bold text-xs mix-blend-difference\">\n                                        {data[dept].score > 0 ? data[dept].score : ''}\n                                    </span>\n                                </td>\n                            ))}\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            {/* --- RENDER THE NEW LEGEND --- */}\n            <HeatmapLegend />\n        </div>\n    );\n};\n\n// const HeaderCell = ({ children }) => (\n//     <th className=\"p-2 border border-gray-300 bg-gray-100 text-sm font-semibold text-gray-700 text-left w-24 whitespace-nowrap\">\n//         {children}\n//     </th>\n// );\n\n// export const Heatmap = ({ data }: { data: HeatmapData }) => {\n//     if (!data || Object.keys(data).length === 0) {\n//         return null;\n//     }\n\n//     const divisions = Object.keys(data);\n\n//     return (\n//         <div className=\"bg-white p-6 rounded-lg shadow-md border border-gray-200\">\n//             <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">Quantitative Impact Heatmap</h2>\n//             <div className=\"overflow-x-auto\">\n//                 <table className=\"min-w-full border-collapse\">\n//                     <thead>\n//                         <tr>\n//                             {divisions.map(dept => <HeaderCell key={dept}>{dept}</HeaderCell>)}\n//                         </tr>\n//                     </thead>\n//                     <tbody>\n//                         <tr>\n//                             {divisions.map(dept => (\n//                                 <td key={dept} className=\"p-0 border border-gray-300 h-12 text-center\">\n//                                     <div className={`w-full h-full flex items-center justify-center ${levelStyles[data[dept].level]}`}>\n//                                         <span className=\"text-white font-bold text-xs mix-blend-difference\">{data[dept].score > 0 ? data[dept].score : ''}</span>\n//                                     </div>\n//                                 </td>\n//                             ))}\n//                         </tr>\n//                     </tbody>\n//                 </table>\n//             </div>\n//         </div>\n//     );\n// };"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1035, "column": 0}, "map": {"version":3,"sources":["file:///Users/vinitha/Desktop/RegAI/frontend/src/app/components/ImpactedLifecyclesCard.tsx"],"sourcesContent":["import { ListChecks } from 'lucide-react';\n\nexport const ImpactedLifecyclesCard = ({ lifecycles }: { lifecycles: string[] }) => {\n    if (!lifecycles || lifecycles.length === 0) {\n        return null; // Don't render the card if there's nothing to show\n    }\n\n    return (\n        <div className=\"bg-white p-6 rounded-lg shadow-md border border-gray-200\">\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-4 flex items-center\">\n                <ListChecks className=\"mr-3 h-6 w-6 text-red-500\" />\n                Impacted Business Lifecycles\n            </h2>\n            <p className=\"text-sm text-gray-600 mb-4\">The following lifecycles were identified as relevant to this regulation, contributing to the heatmap scores above.</p>\n            <div className=\"columns-2 md:columns-3 lg:columns-4 gap-x-6\">\n                <ul className=\"space-y-2 text-sm text-red-700\">\n                    {lifecycles.map((item, index) => (\n                        <li key={index} className=\"break-inside-avoid px-2 py-1 bg-red-100 text-red-700 text-xs font-semibold rounded-full\">{item}</li>\n                    ))}\n                </ul>\n            </div>\n        </div>\n    );\n};"],"names":[],"mappings":";;;;AAAA;;;AAEO,MAAM,yBAAyB,CAAC,EAAE,UAAU,EAA4B;IAC3E,IAAI,CAAC,cAAc,WAAW,MAAM,KAAK,GAAG;QACxC,OAAO,MAAM,mDAAmD;IACpE;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;;kCACV,6LAAC,qNAAA,CAAA,aAAU;wBAAC,WAAU;;;;;;oBAA8B;;;;;;;0BAGxD,6LAAC;gBAAE,WAAU;0BAA6B;;;;;;0BAC1C,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAG,WAAU;8BACT,WAAW,GAAG,CAAC,CAAC,MAAM,sBACnB,6LAAC;4BAAe,WAAU;sCAA2F;2BAA5G;;;;;;;;;;;;;;;;;;;;;AAMjC;KArBa","debugId":null}},
    {"offset": {"line": 1115, "column": 0}, "map": {"version":3,"sources":["file:///Users/vinitha/Desktop/RegAI/frontend/src/app/components/PdfViewer.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { toast } from 'react-hot-toast';\nimport { Loader2, ChevronLeft, ChevronRight, ZoomIn, ZoomOut, RotateCcw } from 'lucide-react';\nimport { AlertCircle } from 'lucide-react';\n\n// Dynamic imports to avoid SSR issues\nlet Document: any;\nlet Page: any;\nlet pdfjs: any;\n\ninterface PdfViewerProps {\n  fileUrl: string;\n}\n\nexport default function PdfViewer({ fileUrl }: PdfViewerProps) {\n  const [isClient, setIsClient] = useState(false);\n  const [numPages, setNumPages] = useState<number | null>(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [scale, setScale] = useState(1.0);\n  const [rotation, setRotation] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const [loadError, setLoadError] = useState<string | null>(null);\n\n  console.log('PdfViewer render:', { fileUrl, isClient, Document: !!Document, Page: !!Page });\n\n  // Initialize client and load react-pdf\n  useEffect(() => {\n    setIsClient(true);\n    \n    // Set up the worker immediately\n    if (typeof window !== 'undefined') {\n      import('react-pdf').then((module) => {\n        const { pdfjs } = module;\n        pdfjs.GlobalWorkerOptions.workerSrc = '/pdf.worker.min.js';\n        console.log('PDF.js worker set to:', pdfjs.GlobalWorkerOptions.workerSrc);\n        console.log('PDF.js version:', pdfjs.version);\n      }).catch(error => {\n        console.error('Failed to import react-pdf:', error);\n        setLoadError('Failed to load PDF viewer components');\n      });\n    }\n    \n    // Dynamically import react-pdf components\n    import('react-pdf').then((module) => {\n      Document = module.Document;\n      Page = module.Page;\n      pdfjs = module.pdfjs;\n      console.log('React-PDF components loaded:', { Document: !!Document, Page: !!Page, pdfjs: !!pdfjs });\n    }).catch(error => {\n      console.error('Failed to load react-pdf components:', error);\n      setLoadError('Failed to load PDF viewer components');\n    });\n    \n    // Import CSS for annotations and text layer\n    if (typeof window !== 'undefined') {\n      // @ts-ignore - CSS imports for react-pdf\n      import('react-pdf/dist/Page/AnnotationLayer.css').catch(() => {});\n      // @ts-ignore - CSS imports for react-pdf\n      import('react-pdf/dist/Page/TextLayer.css').catch(() => {});\n    }\n  }, []);\n\n  // Reset state when fileUrl changes\n  useEffect(() => {\n    if (fileUrl) {\n      console.log('FileUrl changed:', fileUrl);\n      setPageNumber(1);\n      setScale(1.0);\n      setRotation(0);\n      setNumPages(null);\n      setIsLoading(true);\n      setLoadError(null);\n    } else {\n      setIsLoading(false);\n      setLoadError(null);\n    }\n  }, [fileUrl]);\n\n  function onDocumentLoadSuccess({ numPages }: { numPages: number }): void {\n    console.log('PDF loaded successfully:', { numPages, fileUrl });\n    setNumPages(numPages);\n    setPageNumber(1);\n    setIsLoading(false);\n    setLoadError(null);\n  }\n\n  function onDocumentLoadError(error: Error): void {\n    console.error('PDF load error:', error);\n    setIsLoading(false);\n    setLoadError(`Error loading PDF: ${error.message}`);\n    toast.error(`Error while loading PDF: ${error.message}`);\n  }\n\n  function goToPrevPage() {\n    setPageNumber((prevPageNumber) => Math.max(prevPageNumber - 1, 1));\n  }\n\n  function goToNextPage() {\n    setPageNumber((prevPageNumber) => Math.min(prevPageNumber + 1, numPages || 1));\n  }\n\n  function zoomIn() {\n    setScale((prevScale) => Math.min(prevScale + 0.25, 3.0));\n  }\n\n  function zoomOut() {\n    setScale((prevScale) => Math.max(prevScale - 0.25, 0.5));\n  }\n\n  function resetZoom() {\n    setScale(1.0);\n    setRotation(0);\n  }\n\n  function rotatePage() {\n    setRotation((prevRotation) => (prevRotation + 90) % 360);\n  }\n\n  const loadingSpinner = (\n    <div className=\"flex flex-col items-center justify-center h-full text-red-500\">\n      <Loader2 className=\"h-10 w-10 animate-spin\" />\n      <p className=\"mt-4\">Loading Document...</p>\n      <p className=\"text-sm text-gray-400 mt-2\">{fileUrl}</p>\n    </div>\n  );\n\n  const errorDisplay = (\n    <div className=\"flex flex-col items-center justify-center h-full text-red-500\">\n      <AlertCircle className=\"h-10 w-10\" />\n      <p className=\"mt-4 text-center\">Failed to load PDF</p>\n      <p className=\"text-sm text-gray-400 mt-2 text-center\">{loadError}</p>\n      <button \n        onClick={() => {\n          setIsLoading(true);\n          setLoadError(null);\n        }}\n        className=\"mt-4 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600\"\n      >\n        Retry\n      </button>\n    </div>\n  );\n\n  // Don't render anything until client-side\n  if (!isClient || !Document || !Page) {\n    return (\n      <div className=\"w-full h-full flex flex-col bg-gray-100 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-md\">\n        <div className=\"flex-grow overflow-auto p-4 flex items-center justify-center\">\n          <div className=\"flex flex-col items-center justify-center text-gray-500\">\n            <Loader2 className=\"h-10 w-10 animate-spin\" />\n            <p className=\"mt-4\">Loading PDF Viewer...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-full h-full flex flex-col bg-gray-100 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-md\">\n      {/* PDF Document Display Area */}\n      <div className=\"flex-grow overflow-auto p-4\">\n        {loadError ? (\n          errorDisplay\n        ) : (\n          <Document\n            key={fileUrl}\n            file={fileUrl}\n            onLoadSuccess={onDocumentLoadSuccess}\n            onLoadError={onDocumentLoadError}\n            loading={loadingSpinner}\n            className=\"flex justify-center\"\n          >\n            <Page \n              pageNumber={pageNumber} \n              scale={scale}\n              rotate={rotation}\n            />\n          </Document>\n        )}\n      </div>\n      \n      {/* Controls */}\n      {numPages && !loadError && (\n        <div className=\"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700\">\n          {/* Pagination Controls */}\n          <div className=\"flex items-center\">\n            <button\n              onClick={goToPrevPage}\n              disabled={pageNumber <= 1}\n              className=\"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              aria-label=\"Previous Page\"\n            >\n              <ChevronLeft className=\"h-5 w-5\" />\n            </button>\n\n            <span className=\"mx-4 text-sm font-medium text-gray-700 dark:text-gray-300\">\n              Page {pageNumber} of {numPages}\n            </span>\n            \n            <button\n              onClick={goToNextPage}\n              disabled={pageNumber >= numPages}\n              className=\"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              aria-label=\"Next Page\"\n            >\n              <ChevronRight className=\"h-5 w-5\" />\n            </button>\n          </div>\n\n          {/* Zoom Controls */}\n          <div className=\"flex items-center space-x-2\">\n            <button\n              onClick={zoomOut}\n              disabled={scale <= 0.5}\n              className=\"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              aria-label=\"Zoom Out\"\n            >\n              <ZoomOut className=\"h-5 w-5\" />\n            </button>\n            \n            <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300 min-w-[60px] text-center\">\n              {Math.round(scale * 100)}%\n            </span>\n            \n            <button\n              onClick={zoomIn}\n              disabled={scale >= 3.0}\n              className=\"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              aria-label=\"Zoom In\"\n            >\n              <ZoomIn className=\"h-5 w-5\" />\n            </button>\n            \n            <button\n              onClick={rotatePage}\n              className=\"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700\"\n              aria-label=\"Rotate Page\"\n            >\n              <RotateCcw className=\"h-5 w-5\" />\n            </button>\n            \n            <button\n              onClick={resetZoom}\n              className=\"px-3 py-1 text-xs font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded\"\n              aria-label=\"Reset Zoom\"\n            >\n              Reset\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1571, "column": 0}, "map": {"version":3,"sources":["file:///Users/vinitha/Desktop/RegAI/frontend/src/app/review/page.tsx"],"sourcesContent":["'use client';\nimport { useState, useEffect, useMemo } from 'react';\nimport { AnalysisResult } from '@/app/lib/types';\nimport { RegulatoryInfo } from '@/app/components/DocumentInfo';\nimport { RegulatorySummary } from '@/app/components/RegulatorySummary';\nimport { ImpactAssessment } from '@/app/components/ImpactAssessment';\nimport { Timeline } from '@/app/components/Timeline';\nimport { DocumentSelector } from '@/app/components/DocumentSelector';\nimport { Heatmap } from '@/app/components/Heatmap';\nimport { ImpactedLifecyclesCard } from '@/app/components/ImpactedLifecyclesCard';\nimport { Loader2, Search, Info, Save, CheckCircle, AlertCircle, Send, RefreshCw, Mic } from 'lucide-react';\nimport PdfViewer from \"@/app/components/PdfViewer\"; \nimport { toast } from \"react-hot-toast\";\n\ntype PageStatus = 'idle' | 'loadingCache' | 'loadingAnalysis' | 'displayingCache' | 'displayingNew' | 'error';\n\nexport default function ReviewPage() {\n  const [documents, setDocuments] = useState<string[]>([]);\n  const [selectedDocument, setSelectedDocument] = useState<string>('');\n  const [analysis, setAnalysis] = useState<AnalysisResult | null>(null);\n  const [status, setStatus] = useState<PageStatus>('idle');\n  const [errorMessage, setErrorMessage] = useState<string>('');\n  const [saveStatus, setSaveStatus] = useState<'idle' | 'saving' | 'saved'>('idle');\n  const [notificationStatus, setNotificationStatus] = useState<'idle' | 'sending' | 'sent'>('idle');\n  const [pdfUrl, setPdfUrl] = useState<string | null>(null);\n\n  const [isGeneratingPodcast, setIsGeneratingPodcast] = useState(false);\n  const [audioUrl, setAudioUrl] = useState<string | null>(null);\n\n  const impactedDivisions = useMemo(() => {\n    if (!analysis?.heatmapData) return [];\n    \n    return Object.entries(analysis.heatmapData)\n        .filter(([_, data]) => data.level === 'High' || data.level === 'Medium' || data.level === 'Low')\n        .map(([division, _]) => division);\n  }, [analysis]); // Recalculates whenever analysis data changes\n\n\n    // This effect runs only once to fetch the list of available documents\n    useEffect(() => {\n      const fetchDocuments = async () => {\n          try {\n              const res = await fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL}/api/documents`);\n              if (!res.ok) throw new Error('Failed to fetch document list.');\n              const data = await res.json();\n              setDocuments(data.documents);\n          } catch (e) {\n              setStatus('error');\n              setErrorMessage(e instanceof Error ? e.message : 'An unknown error occurred.');\n          }\n      };\n      fetchDocuments();\n  }, []);\n\n  // This effect runs whenever a new document is selected from the dropdown\n  useEffect(() => {\n      if (!selectedDocument) {\n          setAnalysis(null);\n          setStatus('idle'); // When deselected, go back to idle\n          setPdfUrl(null);\n          setAudioUrl(null);\n          return;\n      }\n\n      const fetchCachedData = async () => {\n          setStatus('loadingCache');\n          setErrorMessage(''); // Clear previous errors\n          setSaveStatus('idle'); // Reset save status\n          setAnalysis(null); // Clear previous analysis\n          setPdfUrl(null);\n          setAudioUrl(null);\n\n          try {\n              const res = await fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL}/api/cache/${selectedDocument}`);\n              if (res.status === 404) {\n                  // This is a normal flow: no cache exists for this document.\n                  setStatus('idle');\n                  return;\n              }\n              if (!res.ok) {\n                  const errData = await res.json();\n                  throw new Error(errData.detail || 'Failed to check cache.');\n              }\n              const data: AnalysisResult = await res.json();\n              setAnalysis(data);\n              setStatus('displayingCache'); // We have cached data to show\n\n              // Always set the PDF URL when a document is selected\n              setPdfUrl(`${process.env.NEXT_PUBLIC_API_BASE_URL}/api/documents/${selectedDocument}`);\n\n              const audio_res = await fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL}/api/audio/${selectedDocument}.mp3`);\n              if (audio_res.ok) {\n                setAudioUrl(`${process.env.NEXT_PUBLIC_API_BASE_URL}/api/audio/${selectedDocument}.mp3`);\n              }\n\n            } catch (e) {\n              setStatus('error');\n              setErrorMessage(e instanceof Error ? e.message : 'An error occurred while checking the cache.');\n          }\n      };\n      \n      fetchCachedData();\n  }, [selectedDocument]);\n\n  // Handler for the main \"Analyze\" / \"Re-Analyze\" button\n  const handleAnalyzeClick = async () => {\n      setStatus('loadingAnalysis');\n      setErrorMessage('');\n      setSaveStatus('idle');\n      setAnalysis(null);\n      setPdfUrl(null);\n      setAudioUrl(null); // Reset audio when new data is loaded\n\n      try {\n          const res = await fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL}/api/analyze`, {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({ document_name: selectedDocument }),\n          });\n          if (!res.ok) {\n              const errData = await res.json();\n              throw new Error(errData.detail || 'Analysis generation failed.');\n          }\n          const data: AnalysisResult = await res.json();\n          setAnalysis(data);\n          setStatus('displayingNew'); // A new analysis is ready to be viewed and saved\n          //console.log(data);\n          setPdfUrl(`${process.env.NEXT_PUBLIC_API_BASE_URL}/api/documents/${selectedDocument}`);\n\n          // MODIFICATION: Set the PDF URL after data is loaded\n        //   if (data) {\n        //     setPdfUrl(`${process.env.NEXT_PUBLIC_API_BASE_URL}/api/documents/${selectedDocument}`);\n        //   } else {\n        //     setPdfUrl(null); // Ensure no old PDF is shown if data load fails\n        //   }\n          setAudioUrl(null); // Reset audio when new data is loaded\n      } catch (e) {\n          setStatus('error');\n          setErrorMessage(e instanceof Error ? e.message : 'A critical error occurred during analysis.');\n      }\n  };\n  \n  // Handler for the \"Save Results\" button\n  const handleSaveClick = async () => {\n      if (!analysis) return;\n      setSaveStatus('saving');\n      try {\n          await fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL}/api/cache/${selectedDocument}`, {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(analysis),\n          });\n          setSaveStatus('saved');\n          setStatus('displayingCache'); // Once saved, it's considered part of the cache\n      } catch (e) {\n          alert(\"Failed to save the analysis.\");\n          setSaveStatus('idle'); // Re-enable the save button on failure\n      }\n  };\n\n  const handleNotifyClick = async () => {\n    if (impactedDivisions.length === 0) return;\n    \n    setNotificationStatus('sending');\n    \n    try {\n        await fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL}/api/notify`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ \n                document_name: selectedDocument,\n                impacted_divisions: impactedDivisions,\n            }),\n        });\n        setNotificationStatus('sent');\n        setTimeout(() => setNotificationStatus('idle'), 3000);\n    } catch (e) {\n        alert(\"Failed to send notifications.\");\n        setNotificationStatus('idle');\n    }\n};\n\n  // UI: This function is triggered by the \"Generate Podcast\" button.\n  const handleGeneratePodcast = async () => {\n    if (!analysis) {\n      toast.error(\"Cannot generate podcast without a source document.\");\n      return;\n    }\n    setIsGeneratingPodcast(true);\n    setAudioUrl(null);\n    const toastId = toast.loading(\"Generating podcast summary... This may take a moment.\");\n\n    try {\n      // NOTE: Here we pass the `file_name` in the request body,\n      // which the backend's Pydantic model receives.\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL}/api/generate_podcast`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ file_name: selectedDocument }),\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.detail || \"Failed to generate podcast.\");\n      }\n\n      const result = await response.json();\n      setAudioUrl(`${process.env.NEXT_PUBLIC_API_BASE_URL}${result.audio_url}`);\n      toast.success(\"Podcast generated successfully!\", { id: toastId });\n\n    } catch (error: any) {\n      toast.error(error.message, { id: toastId });\n    } finally {\n      setIsGeneratingPodcast(false);\n    }\n  };\n\n\n\n  const isLoading = status === 'loadingCache' || status === 'loadingAnalysis';\n  console.log(status);\n  console.log(pdfUrl);\n  return (\n      <div className=\"max-w-7xl mx-auto space-y-8\">\n          <header className=\"p-4 bg-white rounded-lg shadow-sm border border-gray-200\">\n              <h1 className=\"text-3xl font-bold text-gray-800 tracking-tight\">AI Regulatory Review</h1>\n              <p className=\"text-lg text-gray-600 mt-2\">Generate summaries, impact assessments, and timelines from your documents.</p>\n          </header>\n\n          <div className=\"p-4 bg-white rounded-lg shadow-sm border flex flex-wrap items-end gap-x-4 gap-y-4\">\n              <div className=\"flex-grow\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Select Document</label>\n                  <DocumentSelector \n                      documents={documents}\n                      selectedDocument={selectedDocument}\n                      onSelectDocument={setSelectedDocument}\n                      isLoading={isLoading}\n                  />\n              </div>\n              <button \n                  onClick={handleAnalyzeClick}\n                  disabled={isLoading || !selectedDocument}\n                  className=\"flex items-center justify-center h-11 px-6 bg-red-500 text-white font-semibold rounded-md shadow-sm hover:bg-red-700 disabled:bg-red-300 disabled:cursor-not-allowed transition-colors\"\n              >\n                  <Search className=\"mr-2 h-5 w-5\" />\n                  {status === 'displayingCache' ? 'Re-Analyze' : 'Analyze'}\n              </button>\n\n              {/* This is the button to create the podcast. */}\n                <button \n                    onClick={handleGeneratePodcast} \n                    disabled={isGeneratingPodcast || !analysis} \n                    className=\"flex items-center justify-center px-6 h-11 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-purple-300 disabled:cursor-not-allowed\"\n                >\n                    {isGeneratingPodcast ? <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" /> : <Mic className=\"mr-2 h-5 w-5\" />}\n                    Podcast\n                </button>  \n\n              {status === 'displayingNew' && (\n                  <button \n                      onClick={handleSaveClick}\n                      disabled={saveStatus !== 'idle'}\n                      className=\"flex items-center justify-center h-11 px-6 bg-green-600 text-white font-semibold rounded-md shadow-sm hover:bg-green-700 disabled:bg-green-300 transition-colors\"\n                  >\n                      {saveStatus === 'idle' && <><Save className=\"mr-2 h-5 w-5\" /> Save Results</>}\n                      {saveStatus === 'saving' && <><Loader2 className=\"mr-2 h-5 w-5 animate-spin\" /> Saving...</>}\n                      {saveStatus === 'saved' && <><CheckCircle className=\"mr-2 h-5 w-5\" /> Saved!</>}\n                  </button>\n              )}\n          </div>\n\n          {isLoading && (\n              <div className=\"flex flex-col items-center justify-center p-12 bg-white rounded-lg shadow-md border\">\n                  <Loader2 className=\"h-12 w-12 text-red-500 animate-spin\" />\n                  <p className=\"mt-4 text-lg text-gray-700 font-semibold\">\n                      {status === 'loadingCache' ? 'Checking for saved analysis...' : `Analyzing ${selectedDocument}...`}\n                  </p>\n              </div>\n          )}\n          \n          {status === 'error' && (\n              <div className=\"p-4 text-red-800 bg-red-100 rounded-md flex items-center gap-3\"><AlertCircle /> {errorMessage}</div>\n          )}\n\n          {analysis && (status === 'displayingCache' || status === 'displayingNew' || pdfUrl) && (\n            <>\n                {/* Full-width components before RegulatorySummary */}\n                <div className=\"mt-8 space-y-8\">\n                    {/* --- THE NEW \"ACTIONS\" HEADER --- */}\n                    <div className=\"flex items-center justify-between\">\n                        <div>\n                            {status === 'displayingCache' ? (\n                                <p className=\"font-semibold text-lg text-red-700\">Displaying saved analysis.</p>\n                            ) : (\n                                <p className=\"font-semibold text-lg text-green-800\">New analysis generated. Click \"Save Results\" to persist.</p>\n                            )}\n                        </div>\n                        <button\n                            onClick={handleNotifyClick}\n                            disabled={notificationStatus !== 'idle' || impactedDivisions.length === 0}\n                            className=\"flex items-center justify-center px-4 py-2 text-white font-semibold rounded-md shadow-sm transition-colors duration-200 bg-red-500 hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed\"\n                        >\n                            {notificationStatus === 'idle' ? (\n                                impactedDivisions.length > 0 ? (\n                                    <>\n                                        <Send className=\"mr-2 h-5 w-5\"/>\n                                        Notify {impactedDivisions.length} Division(s)\n                                    </>\n                                ) : (\n                                    'No High/Medium Impact'\n                                )\n                            ) : notificationStatus === 'sending' ? (\n                                <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                            ) : (\n                                <CheckCircle className=\"mr-2 h-5 w-5\" />\n                            )}\n                            \n                            {notificationStatus === 'sending' && 'Sending...'}\n                            {notificationStatus === 'sent' && 'Sent!'}\n                        </button>\n                    </div>\n\n                    {/* This audio player appears once the podcast is generated. */}\n                    {audioUrl && (\n                        <div className=\"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\">\n                        <h3 className=\"text-lg font-semibold mb-2\">Generated Podcast Summary</h3>\n                        <audio controls className=\"w-full\" src={audioUrl}>\n                            Your browser does not support the audio element.\n                        </audio>\n                        </div>\n                    )}\n\n                    {/* --- End of Actions Header --- */}\n                    <RegulatoryInfo info={analysis.documentInfo} />\n                    {analysis.heatmapData && <Heatmap data={analysis.heatmapData} />}\n                    {analysis.impactedLifecycles && <ImpactedLifecyclesCard lifecycles={analysis.impactedLifecycles} />}\n                </div>\n\n                {/* Two-column layout starting from RegulatorySummary */}\n                <div className=\"mt-8 grid grid-cols-1 md:grid-cols-2 gap-8\" style={{ height: 'calc(100vh - 400px)' }}>\n                    {/* Left Column: Review Details */}\n                    <div className=\"flex flex-col space-y-8 overflow-y-auto pr-4\">\n                        <RegulatorySummary summary={analysis.regulatorySummary} />\n                        <ImpactAssessment assessment={analysis.impactAssessment} />\n                        <Timeline dates={analysis.keyDates} />\n                    </div>\n\n                    {/* Right Column: PDF Document Viewer */}\n                    <div className=\"h-full overflow-hidden\">\n                        {pdfUrl ? (\n                            <div className=\"h-full overflow-y-auto\">\n                                <PdfViewer key={pdfUrl} fileUrl={pdfUrl} />\n                            </div>\n                        ) : (\n                            <div className=\"flex items-center justify-center h-full bg-gray-100 rounded-lg border-2 border-dashed\">\n                                <p className=\"text-gray-500\">No document to display.</p>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </>\n          )}\n\n          {status === 'idle' && !errorMessage && (\n              <div className=\"text-center p-12 bg-white rounded-lg shadow-md border\">\n                  <Info className=\"mx-auto h-12 w-12 text-gray-400\" />\n                  <h2 className=\"mt-2 text-xl font-semibold text-gray-700\">Ready for Analysis</h2>\n                  <p className=\"text-gray-500 mt-1\">\n                      {selectedDocument \n                          ? 'A saved analysis for this document was not found. Click \"Analyze\" to generate a new report.' \n                          : 'Please select a document to begin.'\n                      }\n                  </p>\n              </div>\n          )}\n      </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}